{"version":3,"sources":["Config.js","Helpers/dbHelper.js","views/GalleryView/GalleryView.js","Components/Container/Header/Brand/Brand.js","Components/Container/Header/Navigation/Navigation.js","Components/Container/Header/Header.js","Components/Container/Main/BlogContainer/Blog/Blog.js","Components/Container/Main/BlogContainer/Form/Form.js","Components/Container/Main/BlogContainer/EmptyField/EmptyField.js","Components/Container/Main/BlogContainer/BlogContainer.js","Components/Container/Main/Main.js","Components/Container/Container.js","views/Root/Root.js","index.js"],"names":["DB_CONFIG","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","DbHelper","articles","URLs","getArticleId","app","database","ref","push","key","pushArticle","article","randomArticleId","child","set","id","title","content","getImageId","pushImageUrl","ImageUrl","randomImageId","URL","storage","getURLs","getArticles","removeArticle","remove","this","firebase","initializeApp","DbHelperSingleton","instance","getInstance","GalleryView","handleChange","e","target","files","image","name","put","on","snap","console","log","error","getDownloadURL","then","url","imgURL","state","images","val","setState","Object","values","off","className","for","style","display","type","onChange","map","item","backgroundImage","backgroundSize","backgroundRepeat","backgroundPosition","borderRadius","boxShadow","React","Component","Brand","Navigation","to","Header","Blog","props","isNotEmpty","undefined","length","reverse","onClick","removeFn","Form","onSubmit","submitFn","autocomplete","class","EmptyField","errorMessage","BlogContainer","addPost","preventDefault","value","errorInfo","reset","removePost","Main","Container","exact","path","component","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9f8b3ffd.chunk.js","sourcesContent":["export const DB_CONFIG = {\n    apiKey: \"AIzaSyBjm0OPcXSb-lD1YiUhaM2Tbvk5nTMwY6M\",\n    authDomain: \"hadrian-test-5a70f.firebaseapp.com\",\n    databaseURL: \"https://hadrian-test-5a70f.firebaseio.com\",\n    projectId: \"hadrian-test-5a70f\",\n    storageBucket: \"hadrian-test-5a70f.appspot.com\",\n    messagingSenderId: \"87929167428\",\n    appId: \"1:87929167428:web:8f82c048f81b9bb3766611\"\n  };","import firebase from 'firebase';\nimport {DB_CONFIG} from '../Config'\n\nclass DbHelper {\n    articles = 'blogArticles';\n    URLs = 'imageURLs';\n\n    constructor() {\n        this.app = firebase.initializeApp(DB_CONFIG);\n    }\n\n    getArticleId = () => this.app.database().ref(this.articles).push().key;\n\n    pushArticle = (article) => {\n        const randomArticleId = this.getArticleId();\n        this.app.database().ref(this.articles).child(randomArticleId).set({\n            id: randomArticleId,\n            title: article.title,\n            content: article.content\n        })\n    }\n\n    getImageId = () => this.app.database().ref(this.URLs).push().key;\n\n    pushImageUrl = (ImageUrl) => {\n        const randomImageId = this.getImageId();\n        this.app.database().ref(this.URLs).child(randomImageId).set({\n            URL: ImageUrl.URL\n        })\n    }\n\n    storage = () => this.app.storage()\n    getURLs = () => this.app.database().ref(this.URLs);\n    getArticles = () => this.app.database().ref(this.articles);\n    removeArticle = (id) => this.getArticles().child(id).remove();\n}\n \nexport const DbHelperSingleton = (function () {\n    let instance;\n \n    function createInstance() {\n        let object = new DbHelper();\n        return object;\n    }\n \n    return {\n        getInstance: function () {\n            if (!instance) {\n                instance = createInstance();\n            }\n            return instance;\n        }\n    };\n})();","import React from 'react';\nimport { DbHelperSingleton } from '../../Helpers/dbHelper' \n\nclass GalleryView extends React.Component {\n    constructor(){\n        super()\n\n        // this.database2 = DbHelperSingleton.getInstance().pushImageURL()\n        this.database = DbHelperSingleton.getInstance().getURLs();\n        this.storage = DbHelperSingleton.getInstance().storage();\n\n    this.state = {\n        image: null,\n        images: [{URL: 'https://slodycze-24.pl/wp-content/uploads/2019/08/placeholder.jpg'}]\n        }\n    }\n\n    handleChange = (e) => {\n        if (e.target.files[0]){\n            const image = e.target.files[0];\n            this.storage.ref(`images/${image.name}`).put(image).on(\"state_changed\",\n                snap => {console.log(snap)}, \n                error => {console.log(error)},\n                () => {this.storage.ref(\"images\").child(image.name).getDownloadURL().then(url => {\n                    const imgURL = url;\n                    DbHelperSingleton.getInstance().pushImageUrl({\n                        URL: imgURL\n              })\n                });\n                    }\n      )\n        }\n      };\n\n    componentDidMount() {\n        this.database.on('value', snap => {\n            const images = snap.val()\n                this.setState({\n                    images: images ? Object.values(images) : []\n                });\n                console.log(this.state.images);\n        });\n    }\n\n    componentWillUnmount() {\n        this.database.off('value');\n    }\n\n    render(){\n            return (\n    <div className=\"gallery__body\">\n        <form className=\"gallery__form\">\n                <label className=\"gallery__button\" for = \"upload-btn\">Dodaj zdjęcie</label>\n                <input id=\"upload-btn\" style={{display: \"none\"}}type=\"file\" onChange={this.handleChange}/>\n        </form>\n        <div className=\"gallery__container\">\n            {this.state.images.map(item => \n            <div\n            style={{\n                backgroundImage: `url(${item.URL})`,\n                backgroundSize:'cover',\n                backgroundRepeat: 'no-repeat',\n                backgroundPosition: 'center',\n                borderRadius: '12px',\n                boxShadow: '10px 10px 14px 1px rgba(0, 0, 0, 0.075)'\n            }}></div>)}\n        </div>\n    </div>\n    \n            )\n        }\n    }\n    \n\nexport default GalleryView;","import React from 'react';\n\nconst Brand = () => (\n    <div className=\"header__brand\"><i className=\"fas fa-pen-nib\"></i>HadrianBlog</div>\n)\n\nexport default Brand","import React from 'react';\nimport {Link} from 'react-router-dom';\n\n\nconst Navigation = () => (\n    <ul className=\"navigation__list\">\n        <li className=\"navigation__item\"><Link className=\"navigation__button\" to=\"/\">blog</Link></li>\n        <li className=\"navigation__item\"><Link className=\"navigation__button\" to=\"/gallery\">galeria</Link></li>\n    </ul>\n)\n\nexport default Navigation","import React from 'react';\nimport Brand from './Brand/Brand';\nimport Navigation from './Navigation/Navigation';\n\nconst Header = () => (\n    <header className=\"header\">\n        <Brand />\n        <Navigation />\n    </header>\n)\n\nexport default Header;","import React from 'react';\n\nconst Blog = (props) => {\n    const articles = props.articles;\n    const isNotEmpty = articles !== undefined && articles.length !== 0;\n\n    return (\n        <div className=\"blog-container\">\n            <div className=\"blog\">\n            {!isNotEmpty && (\n            <article className=\"article\">\n            <h2 className=\"article__header article__header--noArticles\">PUSTO</h2>\n                <div className=\"article__area\">\n                    <p className=\"article__content\">BRAK ARTYKUŁÓW DO WYŚWIETLENIA</p>\n                </div>                \n            </article>\n            )}\n            {isNotEmpty && props.articles.reverse().map(item=>\n            <article key={item.id} className=\"article\">\n                <h2 className=\"article__header\">{item.title}</h2>\n                    <div className=\"article__area\">\n                        <p className=\"article__content\">{item.content}</p>\n                        <button onClick={() => props.removeFn(item.id)} className=\"article__button--remove\">X</button>\n                    </div>                \n            </article>\n            )}\n            </div>\n        </div>\n    )\n}\n\nexport default Blog;","import React from 'react';\n\nconst Form = (props) => {\n        return (\n    <form onSubmit={props.submitFn} autocomplete=\"off\" class=\"form\">\n        <label for=\"title\" class=\"form__label\">Tytuł</label>\n        <input id=\"title\" class=\"form__title\" />\n        <label for=\"content\" class=\"form__label\">Treść</label>\n        <textarea id=\"content\" class=\"form__content\"></textarea>\n        <button type=\"submit\" class=\"form__add\">Dodaj artykuł</button>\n    </form>\n    )\n}  \n\nexport default Form;","import React from 'react';\n\nconst EmptyField = (props) => {\n    return (\n        <p className=\"form__error\">{props.errorMessage}</p>\n    )\n}\n\nexport default EmptyField;","import React from 'react';\nimport Blog from './Blog/Blog'\nimport Form from './Form/Form'\nimport EmptyField from './EmptyField/EmptyField'\n\nimport { DbHelperSingleton } from '../../../../Helpers/dbHelper';\n\nclass BlogContainer extends React.Component {\n    constructor() {\n        super()\n\n        this.state = {\n            errorInfo: \"\"\n        }\n    }\n\n        addPost = (e) => {\n            e.preventDefault();\n            if ((e.target[0].value === '')||(e.target[1].value === '')){\n                this.setState({\n                    errorInfo: \"Wypełnij oba pola zanim dodasz artykuł!!\"\n                });\n            } else {\n                this.setState({\n                    errorInfo: \"\"\n                })\n                \n                DbHelperSingleton.getInstance().pushArticle({\n                    title: e.target[0].value,\n                    content: e.target[1].value });\n                    e.target.reset();\n            }\n        }\n    \n        removePost = (id) => {\n            DbHelperSingleton.getInstance().removeArticle(id);\n        }\n    \n    \n\n    render() {\n        return (\n            <>\n                <Form \n                submitFn={this.addPost}\n                \n                />  \n                {!!this.state.errorInfo && \n                <EmptyField \n                errorMessage = {this.state.errorInfo}/>\n                }\n                <Blog\n                articles={this.props.articles}\n                removeFn={this.removePost}\n                />\n            </> \n            )\n    }\n    \n}\nexport default BlogContainer;","import React from 'react';\nimport BlogContainer from './BlogContainer/BlogContainer'\n\n\nconst Main = (props) => {\n    \n    return (\n        <main className=\"main\">\n            <BlogContainer articles={props.articles} />\n        </main>\n    );\n}\n\nexport default Main","import React from 'react';\nimport {HashRouter, Route, Redirect} from 'react-router-dom'\nimport GalleryView from '../../views/GalleryView/GalleryView'\n\nimport Header from './Header/Header'\nimport Main from './Main/Main'\nimport { DbHelperSingleton } from '../../Helpers/dbHelper';\n\nclass Container extends React.Component {\n    constructor() {\n        super()\n        \n        this.database = DbHelperSingleton.getInstance().getArticles();\n\n        this.state = {\n            articles: []\n        }\n    }\n    componentDidMount() {\n        this.database.on('value', snap => {\n            const values = snap.val()\n                this.setState({\n                    articles: values ? Object.values(values) : []\n                });\n        });\n    }\n\n    componentWillUnmount() {\n        this.database.off('value');\n    }\n\n    render() {\n        return (\n            <HashRouter>\n            <>\n            <section className=\"container\">\n            <Header />\n            <Route exact path=\"/\" component={() => <Main articles={this.state.articles} />}/>\n            <Route path=\"/gallery\" component={GalleryView}/>\n            \n        </section>\n            </>\n            </HashRouter>    \n        )\n    }\n\n} \n\nexport default Container","import React from 'react';\nimport Container from '../../Components/Container/Container'\nimport '../../normalize.css';\nimport '../../index.css';\n\nclass Root extends React.Component {\n    render() {\n        return (\n            <Container/>  \n        )\n    }\n}\n\nexport default Root;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Root from './views/Root/Root';\n\nReactDOM.render(\n    <Root />,\n    document.getElementById('root')    \n)\n"],"sourceRoot":""}